<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Escape Game Project - 3EII PJM 2022: Call Ordering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Escape Game Project - 3EII PJM 2022
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__cmocka__call__order.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Call Ordering<div class="ingroups"><a class="el" href="group__cmocka.html">The CMocka API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Call Ordering:</div>
<div class="dyncontent">
<div class="center"><img src="group__cmocka__call__order.png" border="0" usemap="#group____cmocka____call____order" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabaf804f96e99492efe8e1dddc34cd326"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called</a>()&#160;&#160;&#160;<a class="el" href="group__cmocka.html#ga3ba466ca3d0c66116141f7d507f65bd4">_function_called</a>(__func__, __FILE__, __LINE__)</td></tr>
<tr class="separator:gabaf804f96e99492efe8e1dddc34cd326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe9bec12f39aef833757377a65948869"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmocka__call__order.html#gafe9bec12f39aef833757377a65948869">expect_function_calls</a>(function,  times)&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, times)</td></tr>
<tr class="separator:gafe9bec12f39aef833757377a65948869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga247f5b7faba315b80a9bb4b2a8824e80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call</a>(function)&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, 1)</td></tr>
<tr class="separator:ga247f5b7faba315b80a9bb4b2a8824e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68094d605c49fe790190b3ee613522b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmocka__call__order.html#ga68094d605c49fe790190b3ee613522b4">expect_function_call_any</a>(function)&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, -1)</td></tr>
<tr class="separator:ga68094d605c49fe790190b3ee613522b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7caada40dc8863175475ea21dff26fdf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmocka__call__order.html#ga7caada40dc8863175475ea21dff26fdf">ignore_function_calls</a>(function)&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, -2)</td></tr>
<tr class="separator:ga7caada40dc8863175475ea21dff26fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>It is often beneficial to make sure that functions are called in an order. This is independent of mock returns and parameter checking as both of the aforementioned do not check the order in which they are called from different functions.</p>
<ul>
<li>
<p class="startli"><b><a class="el" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call(function)</a></b> - The <a class="el" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call()</a> macro pushes an expectation onto the stack of expected calls.</p>
<p class="endli"></p>
</li>
<li>
<b><a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a></b> - pops a value from the stack of expected calls. <a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a> is invoked within the mock object that uses it. </li>
</ul>
<p><a class="el" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call()</a> and <a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a> are intended to be used in pairs. Cmocka will fail a test if there are more or less expected calls created (e.g. <a class="el" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call()</a>) than consumed with <a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a>. There are provisions such as <a class="el" href="group__cmocka__call__order.html#ga7caada40dc8863175475ea21dff26fdf">ignore_function_calls()</a> which allow this restriction to be circumvented in tests where mock calls for the code under test are not the focus of the test.</p>
<p>The following example illustrates how a unit test instructs cmocka to expect a <a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a> from a particular mock, <b>chef_sing()</b>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> chef_sing(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> code_under_test()</div>
<div class="line">{</div>
<div class="line">  chef_sing();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> some_test(<span class="keywordtype">void</span> **state)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call</a>(chef_sing);</div>
<div class="line">    code_under_test();</div>
<div class="line">}</div>
</div><!-- fragment --><p>The implementation of the mock then must check whether it was meant to be called by invoking <b><a class="el" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called()</a></b>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> chef_sing()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called</a>();</div>
<div class="line">}</div>
</div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga247f5b7faba315b80a9bb4b2a8824e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga247f5b7faba315b80a9bb4b2a8824e80">&#9670;&nbsp;</a></span>expect_function_call</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_function_call</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga68094d605c49fe790190b3ee613522b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68094d605c49fe790190b3ee613522b4">&#9670;&nbsp;</a></span>expect_function_call_any</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_function_call_any</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, -1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafe9bec12f39aef833757377a65948869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe9bec12f39aef833757377a65948869">&#9670;&nbsp;</a></span>expect_function_calls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_function_calls</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">times&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, times)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gabaf804f96e99492efe8e1dddc34cd326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaf804f96e99492efe8e1dddc34cd326">&#9670;&nbsp;</a></span>function_called</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define function_called</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cmocka.html#ga3ba466ca3d0c66116141f7d507f65bd4">_function_called</a>(__func__, __FILE__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga7caada40dc8863175475ea21dff26fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7caada40dc8863175475ea21dff26fdf">&#9670;&nbsp;</a></span>ignore_function_calls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ignore_function_calls</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cmocka.html#gabc123855bc9bbe2cfe7deb455e36df94">_expect_function_call</a>(#function, __FILE__, __LINE__, -2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__cmocka__call__order_html_gabaf804f96e99492efe8e1dddc34cd326"><div class="ttname"><a href="group__cmocka__call__order.html#gabaf804f96e99492efe8e1dddc34cd326">function_called</a></div><div class="ttdeci">#define function_called()</div><div class="ttdef"><b>Definition:</b> cmocka.h:1519</div></div>
<div class="ttc" id="agroup__cmocka__call__order_html_ga247f5b7faba315b80a9bb4b2a8824e80"><div class="ttname"><a href="group__cmocka__call__order.html#ga247f5b7faba315b80a9bb4b2a8824e80">expect_function_call</a></div><div class="ttdeci">#define expect_function_call(function)</div><div class="ttdef"><b>Definition:</b> cmocka.h:1550</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
